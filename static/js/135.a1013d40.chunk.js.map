{"version":3,"file":"static/js/135.a1013d40.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/api.js","services/const.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backBtn\":\"MovieDetails_backBtn__rLQ3F\"};","import React, { useEffect, useState, Suspense } from 'react';\nimport { useParams, Link, useLocation, Outlet } from 'react-router-dom'; \nimport { getMovieDetailsByID } from '#services/api';\n\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      try {\n        const detailsResponse = await getMovieDetailsByID(movieId);\n        setMovieDetails(detailsResponse);\n\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching movie details:', error);\n        setError('Error fetching movie details. Please try again later.');\n        setLoading(false);\n      }\n    };\n\n    fetchMovieDetails();\n  }, [movieId]);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  const userScore = Math.round(movieDetails.vote_average * 10);\n  const genres = movieDetails.genres.map(genre => genre.name).join(' ');\n  const location = useLocation;\n  const prevPath = location.state?.from ?? '/movies';\n  const backBtn = location.state?.from ?? '/';\n  const poster = `https://image.tmdb.org/t/p/w500${movieDetails.poster_path}`;\n\n  return (\n    <div>\n      <div className={css.backBtn}>\n      <Link to={backBtn} state={{ from: prevPath }}>\n      &#x2190; Come Back\n      </Link>\n      </div>\n      <h1>\n        {movieDetails.title} ({movieDetails.release_date.slice(0, 4)})\n      </h1>\n\n      <img src={poster} alt={movieDetails.title} />\n\n      <p>User score: {userScore} %</p>\n      <h2>Overwiew: </h2>\n      <p>{movieDetails.overview}</p>\n\n      <h2>Genres: </h2>\n      <p>{genres}</p>\n\n\n      <h3>Additional information</h3>\n\n      <ul>\n        <li>\n          <Link to=\"cast\" state={{ from: prevPath }}>\n            CAST\n          </Link>\n        </li>\n        <li>\n          <Link to=\"reviews\" state={{ from: prevPath }}>\n            REVIEWS\n          </Link>\n        </li>\n      </ul>\n\n       <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n       </Suspense>\n\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nimport { API_BASE_URL, API_KEY } from './const';\n\naxios.defaults.baseURL = API_BASE_URL;\naxios.defaults.params = {api_key:API_KEY};\n\nexport const getTrendingMovies = async () => {\n  try {\n    const response = await axios('/trending/movie/day');\n    return response.data;\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\nexport const getMovieDetailsByID = async (movie_id) => {\n    try {\n      const response = await axios(`/movie/${movie_id}`);\n      return response.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  };\n  \n\n  export const getMovieCredits = async (movie_id) => {\n    try {\n      const response = await axios(`/movie/${movie_id}/credits`);\n      return response.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  };\n\n  export const getMovieReviews = async (movie_id) => {\n    try {\n      const response = await axios(`/movie/${movie_id}/reviews?language=en-US&page=1`);\n      return response.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  };\n\n  \n  export const fetchMovieByKeyword = async (search) => {\n    const queryParams = `?query=${search}`;\n    try {\n      const response = await axios(`/search/movie${queryParams}`);\n      return response.data.results;\n    } catch (error) {\n      throw new Error(error);\n    }\n  };\n\n\n  // const options = {method: 'GET', headers: {accept: 'application/json'}};\n\n  // fetch('https://api.themoviedb.org/3/movie/movie_id/reviews?language=en-US&page=1', options)\n  //   .then(response => response.json())\n  //   .then(response => console.log(response))\n  //   .catch(err => console.error(err));\n\n\n// \n\n// const options = {\n//     method: 'GET',\n//     headers: {\n//       accept: 'application/json',\n//       Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMTJiZmIyZGU1ZDFjZDg1NTZiZWY0YmE0NzY0YzkyMyIsInN1YiI6IjY1NTdjNWIxMDgxNmM3MDBjM2RjOTU1MyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.IX1XW1nI2iT_zXKR3aGdhEGO9P1cMcN8fN8JXPMnxSw'\n//     }\n//   };\n  \n//   fetch('https://api.themoviedb.org/3/movie/movie_id?language=en-US', options)\n//     .then(response => response.json())\n//     .then(response => console.log(response))\n//     .catch(err => console.error(err));","export const API_KEY = process.env.REACT_APP_API_KEY;\nexport const API_BASE_URL = 'https://api.themoviedb.org/3';\n"],"names":["_location$state$from","_location$state","_location$state$from2","_location$state2","movieId","useParams","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","useEffect","fetchMovieDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","detailsResponse","_context","prev","next","getMovieDetailsByID","sent","t0","console","stop","apply","arguments","_jsx","children","_jsxs","userScore","Math","round","vote_average","genres","map","genre","name","join","location","useLocation","prevPath","state","from","backBtn","poster","concat","poster_path","className","css","Link","to","title","release_date","slice","src","alt","overview","Suspense","fallback","Outlet","axios","api_key","process","getTrendingMovies","response","abrupt","data","Error","_ref2","_callee2","movie_id","_context2","_x","getMovieCredits","_ref3","_callee3","_context3","_x2","getMovieReviews","_ref4","_callee4","_context4","_x3","fetchMovieByKeyword","_ref5","_callee5","search","queryParams","_context5","results","_x4"],"sourceRoot":""}